// [typedjson]  Version: 1.0.0-rc1 - 2018-05-04  
 !function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("typedjson",[],r):"object"==typeof exports?exports.typedjson=r():e.typedjson=r()}(window,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";t.r(r);const n="__typedJsonJsonObjectMetadataInformation__";function o(e,r){return e===r||e.prototype instanceof r}function s(e,...r){"object"==typeof console&&"function"==typeof console.error?console.error.apply(console,[e].concat(r)):"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,["ERROR: "+e].concat(r))}function i(e,...r){"object"==typeof console&&"function"==typeof console.warn?console.warn.apply(console,[e].concat(r)):"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,["WARNING: "+e].concat(r))}function a(e){return!(void 0===e||null===e)}function c(e,r){return"number"==typeof e?r===Number:"string"==typeof e?r===String:"boolean"==typeof e?r===Boolean:"object"==typeof e&&e instanceof r}const l="object"==typeof Reflect&&"function"==typeof Reflect.getMetadata;function y(...e){return e.join(" ")}function p(e){return"string"==typeof e.name?e.name:"undefined"}class u{}class f{constructor(){this.dataMembers=new Map,this.knownTypes=new Set}static getJsonObjectName(e){var r=this.getFromConstructor(e);return p(r?r.classType:e)}static getFromConstructor(e){var r,t;if(r="function"==typeof e?e.prototype:e)return r.hasOwnProperty(n)&&(t=r[n]),t&&t.isExplicitlyMarked?t:void 0}static getFromInstance(e){return this.getFromConstructor(Object.getPrototypeOf(e))}static getKnownTypeNameFromType(e){var r=this.getFromConstructor(e);return p(r?r.classType:e)}static getKnownTypeNameFromInstance(e){var r=this.getFromInstance(e);return p(r?r.classType:e.constructor)}}function h(e,r,t){var o,i,a=`@jsonMember on ${p(e.constructor)}.${r}`;"function"!=typeof e?"function"!=typeof e[r]?t&&t.ctor?(e.hasOwnProperty(n)?o=e[n]:(o=new f,i=e[n],o.name=e.constructor.name,i&&i.dataMembers.forEach((e,r)=>o.dataMembers.set(r,e)),Object.defineProperty(e,n,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.knownTypes.add(t.ctor),t.keyType&&o.knownTypes.add(t.keyType),t.elementType&&t.elementType.forEach(e=>o.knownTypes.add(e)),o.dataMembers.set(r.toString(),t)):s(`${a}: JsonMemberMetadata has unknown ctor.`):s(`${a}: cannot use a method property.`):s(`${a}: cannot use a static property.`)}class d{constructor(){this._typeResolver=((e,r)=>{if(e.__type)return r.get(e.__type)}),this._errorHandler=(e=>s(e))}setNameResolver(e){this._nameResolver=e}setTypeResolver(e){if("function"!=typeof e)throw new TypeError("'typeResolverCallback' is not a function.");this._typeResolver=e}setErrorHandler(e){if("function"!=typeof e)throw new TypeError("'errorHandlerCallback' is not a function.");this._errorHandler=e}convertAsObject(e,r,t="object"){if("object"!=typeof e||null===e)return void this._errorHandler(new TypeError(`Cannot deserialize ${t}: 'sourceObject' must be a defined object.`));let n=r.selfConstructor,s=f.getFromConstructor(n),i=r.knownTypes;s&&(i=this._mergeKnownTypes(i,this._createKnownTypesMap(s.knownTypes)));let c=this._typeResolver(e,i);if(c&&o(c,n)&&(n=c,(s=f.getFromConstructor(c))&&(i=this._mergeKnownTypes(i,this._createKnownTypesMap(s.knownTypes)))),s&&s.isExplicitlyMarked){let r,o={};if(s.dataMembers.forEach((r,t)=>{let n=e[t],c=`${p(s.classType)}.${t}`,l=r.ctor,y=this.convertSingleValue(n,{selfConstructor:l,elementConstructor:r.elementType,keyConstructor:r.keyType,knownTypes:i},c);a(y)?o[t]=y:r.isRequired&&this._errorHandler(new TypeError(`Missing required member '${c}'.`))}),"function"==typeof s.initializerCallback)try{if(!(r=s.initializerCallback(o,e)))throw new TypeError(y(`Cannot deserialize ${t}:`,`'initializer' function returned undefined/null, but '${p(s.classType)}' was expected.`));if(!(r instanceof s.classType))throw new TypeError(y(`Cannot deserialize ${t}:`,`'initializer' returned '${p(r.constructor)}', but '${p(s.classType)}' was expected,`,`and '${p(r.constructor)}' is not a subtype of '${p(s.classType)}'`))}catch(e){return void this._errorHandler(e)}else r=this._instantiateType(n);return Object.assign(r,o),s.onDeserializedMethodName&&("function"==typeof r.constructor[s.onDeserializedMethodName]?r.constructor[s.onDeserializedMethodName]():this._errorHandler(new TypeError(`onDeserialized callback '${p(s.classType)}.${s.onDeserializedMethodName}' is not a method.`))),r}{let t={};return Object.keys(e).forEach(n=>{t[n]=this.convertSingleValue(e[n],{selfConstructor:e[n].constructor,knownTypes:r.knownTypes,elementConstructor:r.elementConstructor,keyConstructor:r.keyConstructor},n)}),t}}convertSingleValue(e,r,t="object"){let n=r.selfConstructor,o=e?p(e.constructor):"undefined";if(!a(e))return e;if(this._isDirectlyDeserializableNativeType(n)){if(e.constructor===n)return e;throw new TypeError(this._makeTypeErrorMessage(p(n),e.constructor,t))}if(n===Date){if("string"==typeof e||"number"==typeof e&&e>0)return new Date(e);this._throwTypeMismatchError("Date","an ISO-8601 string",o,t)}else if(n===Float32Array){if(e instanceof Array&&e.every(e=>!isNaN(e)))return new Float32Array(e);this._throwTypeMismatchError("Float32Array","a numeric source array",o,t)}else if(n===Float64Array){if(e instanceof Array&&e.every(e=>!isNaN(e)))return new Float64Array(e);this._throwTypeMismatchError("Float64Array","a numeric source array",o,t)}else if(n===Uint8Array){if(e instanceof Array&&e.every(e=>!isNaN(e)))return new Uint8Array(e.map(e=>~~e));this._throwTypeMismatchError("Uint8Array","a numeric source array",o,t)}else if(n===Uint8ClampedArray){if(e instanceof Array&&e.every(e=>!isNaN(e)))return new Uint8ClampedArray(e.map(e=>~~e));this._throwTypeMismatchError("Uint8ClampedArray","a numeric source array",o,t)}else if(n===Uint16Array){if(e instanceof Array&&e.every(e=>!isNaN(e)))return new Uint16Array(e.map(e=>~~e));this._throwTypeMismatchError("Uint16Array","a numeric source array",o,t)}else if(n===Uint32Array){if(e instanceof Array&&e.every(e=>!isNaN(e)))return new Uint32Array(e.map(e=>~~e));this._throwTypeMismatchError("Uint32Array","a numeric source array",o,t)}else if(n===ArrayBuffer){if("string"==typeof e)return this._stringToArrayBuffer(e);this._throwTypeMismatchError("ArrayBuffer","a string source",o,t)}else if(n===DataView){if("string"==typeof e)return this._stringToDataView(e);this._throwTypeMismatchError("DataView","a string source",o,t)}else{if(n===Array){if(e instanceof Array)return this.convertAsArray(e,r,t);throw new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))}if(n===Set){if(e instanceof Array)return this.convertAsSet(e,r,t);this._throwTypeMismatchError("Set","Array",o,t)}else if(n===Map){if(e instanceof Array)return this.convertAsMap(e,r,t);this._throwTypeMismatchError("Map","a source array of key-value-pair objects",o,t)}else if(e&&"object"==typeof e)return this.convertAsObject(e,r,t)}}convertAsArray(e,r,t="object"){if(!(e instanceof Array))return this._errorHandler(new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))),[];if(!r.elementConstructor||!r.elementConstructor.length)return this._errorHandler(new TypeError(`Could not deserialize ${t} as Array: missing constructor reference of Array elements.`)),[];let n={selfConstructor:r.elementConstructor[0],elementConstructor:r.elementConstructor.length>1?r.elementConstructor.slice(1):[],knownTypes:r.knownTypes};return e.map(e=>{try{return this.convertSingleValue(e,n)}catch(e){return void this._errorHandler(e)}})}convertAsSet(e,r,t="object"){if(!(e instanceof Array))return this._errorHandler(new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))),new Set;if(!r.elementConstructor||!r.elementConstructor.length)return this._errorHandler(new TypeError(`Could not deserialize ${t} as Set: missing constructor reference of Set elements.`)),new Set;let n={selfConstructor:r.elementConstructor[0],elementConstructor:r.elementConstructor.length>1?r.elementConstructor.slice(1):[],knownTypes:r.knownTypes},o=new Set;return e.forEach((e,r)=>{try{o.add(this.convertSingleValue(e,n,t+`[${r}]`))}catch(e){this._errorHandler(e)}}),o}convertAsMap(e,r,t="object"){if(e instanceof Array||this._errorHandler(new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))),!r.keyConstructor)return this._errorHandler(new TypeError(`Could not deserialize ${t} as Map: missing key constructor.`)),new Map;if(!r.elementConstructor||!r.elementConstructor.length)return this._errorHandler(new TypeError(`Could not deserialize ${t} as Map: missing value constructor.`)),new Map;let n={selfConstructor:r.keyConstructor,knownTypes:r.knownTypes},o={selfConstructor:r.elementConstructor[0],elementConstructor:r.elementConstructor.length>1?r.elementConstructor.slice(1):[],knownTypes:r.knownTypes},s=new Map;return e.forEach(e=>{try{let r=this.convertSingleValue(e.key,n);a(r)&&s.set(r,this.convertSingleValue(e.value,o,t+`[${r}]`))}catch(e){this._errorHandler(e)}}),s}_throwTypeMismatchError(e,r,t,n="object"){throw new TypeError(`Could not deserialize ${n} as ${e}: expected ${r}, got ${t}.`)}_makeTypeErrorMessage(e,r,t="object"){return`Could not deserialize ${t}: expected '${"function"==typeof e?p(e):e}', got '${"function"==typeof r?p(r):r}'.`}_instantiateType(e){return new e}_mergeKnownTypes(...e){let r=new Map;return e.forEach(e=>{e.forEach((e,t)=>{this._nameResolver?r.set(this._nameResolver(e),e):r.set(t,e)})}),r}_createKnownTypesMap(e){let r=new Map;return e.forEach(e=>{this._nameResolver?r.set(this._nameResolver(e),e):r.set(e.name,e)}),r}_isDirectlyDeserializableNativeType(e){return~[Number,String,Boolean].indexOf(e)}convertNativeObject(e){return e}_stringToArrayBuffer(e){let r=new ArrayBuffer(2*e.length),t=new Uint16Array(r);for(let r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return r}_stringToDataView(e){return new DataView(this._stringToArrayBuffer(e))}}class m{constructor(){this._typeHintEmitter=((e,r,t)=>{r.constructor!==t&&(e.__type=p(r.constructor))}),this._errorHandler=(e=>s(e))}setTypeHintEmitter(e){if("function"!=typeof e)throw new TypeError("'typeEmitterCallback' is not a function.");this._typeHintEmitter=e}setErrorHandler(e){if("function"!=typeof e)throw new TypeError("'errorHandlerCallback' is not a function.");this._errorHandler=e}convertSingleValue(e,r,t="object"){if(a(e)){if(c(e,r.selfType))return this._isDirectlySerializableNativeType(r.selfType)?e:r.selfType===ArrayBuffer?this.convertAsArrayBuffer(e):r.selfType===DataView?this.convertAsDataView(e):r.selfType===Array?this.convertAsArray(e,r.elementTypes,t):r.selfType===Set?this.convertAsSet(e,r.elementTypes[0],t):r.selfType===Map?this.convertAsMap(e,r.keyType,r.elementTypes[0],t):this._isTypeTypedArray(r.selfType)?this.convertAsTypedArray(e):"object"==typeof e?this.convertAsObject(e,r,t):void 0;{let n=p(r.selfType),o=p(e.constructor);this._errorHandler(new TypeError(`Could not serialize '${t}': expected '${n}', got '${o}'.`))}}}convertAsObject(e,r,t){let n,o;return(n=e.constructor!==r.selfType&&e instanceof r.selfType?f.getFromConstructor(e.constructor):f.getFromConstructor(r.selfType))?(o={},n.dataMembers.forEach((r,t)=>{o[t]=this.convertSingleValue(e[t],{selfType:r.ctor,elementTypes:r.elementType,keyType:r.keyType},`${p(n.classType)}.${t}`)})):o=Object.assign({},e),this._typeHintEmitter(o,e,r.selfType),o}convertAsArray(e,r,t="object"){if(0===r.length||!r[0])return void this._errorHandler(new TypeError(`Could not serialize ${t} as Array: missing element type definition.`));try{e.forEach((e,n)=>{if(!c(e,r[0])){let o=p(r[0]),s=p(e.constructor);throw new TypeError(`Could not serialize ${t}[${n}]: expected '${o}', got '${s}'.`)}})}catch(e){return void this._errorHandler(e)}let n={selfType:r[0],elementTypes:r.length>1?r.slice(1):[]};return t&&(t+="[]"),e.map(e=>this.convertSingleValue(e,n,t))}convertAsSet(e,r,t="object"){if(!r)return void this._errorHandler(new TypeError(`Could not serialize ${t} as Set: missing element type definition.`));let n={selfType:r};t&&(t+="[]");let o=[];return e.forEach(e=>{let r=this.convertSingleValue(e,n,t);a(e)&&!a(r)||o.push(r)}),o}convertAsMap(e,r,t,n="object"){if(!t)throw new TypeError(`Could not serialize ${n} as Map: missing value type definition.`);if(!r)throw new TypeError(`Could not serialize ${n} as Map: missing key type definition.`);let o={selfType:t,elementTypes:[t]},s={selfType:r};n&&(n+="[]");let i=[];return e.forEach((e,r)=>{let t={key:this.convertSingleValue(r,s,n),value:this.convertSingleValue(e,o,n)};a(t.key)&&a(t.value)&&i.push(t)}),i}convertAsTypedArray(e){return Array.from(e)}convertAsArrayBuffer(e){return Array.from(new Uint16Array(e)).map(e=>String.fromCharCode(e)).join("")}convertAsDataView(e){return this.convertAsArrayBuffer(e.buffer)}_isDirectlySerializableNativeType(e){return~[Date,Number,String,Boolean].indexOf(e)}_isTypeTypedArray(e){return~[Float32Array,Float64Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array].indexOf(e)}}function T(e){let r;r="function"==typeof e?{}:e||{};let t=function(e){let t,o;e.prototype.hasOwnProperty(n)?(t=e.prototype[n],r.name&&(t.name=r.name)):(t=new f,(o=e.prototype[n])&&(o.dataMembers.forEach((e,r)=>t.dataMembers.set(r,e)),o.knownTypes.forEach(e=>t.knownTypes.add(e))),r.name?t.name=r.name:t.name=e.name,Object.defineProperty(e.prototype,n,{enumerable:!1,configurable:!1,writable:!1,value:t})),t.classType=e,t.isExplicitlyMarked=!0,t.isAbstract=!1,t.initializerCallback=r.initializer,"string"==typeof r.knownTypes?t.knownTypeMethodName=r.knownTypes:r.knownTypes instanceof Array&&r.knownTypes.filter(e=>!!e).forEach(e=>t.knownTypes.add(e))};if("function"!=typeof e)return t;t(e)}function w(e,r){if(!(e instanceof Object)||"string"!=typeof r&&"symbol"!=typeof r)return(r,t)=>{let n,c=e||{},y=`@jsonMember on ${p(r.constructor)}.${t}`;if(c.hasOwnProperty("constructor"),!a(c.constructor))return void s(`${y}: cannot resolve specified property constructor at runtime.`);if(l&&!o(c.constructor,Reflect.getMetadata("design:type",r,t))&&i(`${y}: detected property type does not match 'constructor' option.`),g(n=c.constructor,y))return;let f=new u;f.ctor=n,f.emitDefaultValue=c.emitDefaultValue||!1,f.isRequired=c.isRequired||!1,f.key=t.toString(),f.name=t.toString(),h(r,t,f)};{let t=e,n=`@jsonMember on ${p(t.constructor)}.${r}`;if(!l)return void s(`${n}: ReflectDecorators is required if no 'constructor' option is specified.`);{let e=Reflect.getMetadata("design:type",t,r),o=new u;if(!e)return void s(`${n}: could not resolve detected property constructor at runtime.`);if(g(e,n))return;o.ctor=e,o.key=r.toString(),o.name=r.toString(),h(t,r,o)}}}function g(e,r){return e===Array?(s(`${r}: property is an Array. Use the jsonArrayMember decorator to serialize this property.`),!0):e===Set?(s(`${r}: property is a Set. Use the jsonSetMember decorator to serialize this property.`),!0):e===Map&&(s(`${r}: property is a Map. Use the jsonMapMember decorator to serialize this property.`),!0)}function A(e,r={}){return(t,n)=>{let o=`@jsonArrayMember on ${p(t.constructor)}.${n}`;if("function"!=typeof e)return void s(`${o}: could not resolve constructor of array elements at runtime.`);if(!isNaN(r.dimensions)&&r.dimensions<1)return void s(`${o}: 'dimensions' option must be at least 1.`);if(l&&Reflect.getMetadata("design:type",t,n)!==Array)return void s(`${o}: property is not an Array.`);let i=new u;if(i.ctor=Array,r.dimensions&&r.dimensions>=1){i.elementType=[];for(let e=1;e<r.dimensions;e++)i.elementType.push(Array);i.elementType.push(e)}else i.elementType=[e];i.emitDefaultValue=r.emitDefaultValue||!1,i.isRequired=r.isRequired||!1,i.key=n.toString(),i.name=n.toString(),h(t,n,i)}}function v(e,r={}){return(t,n)=>{var o=`@jsonSetMember on ${p(t.constructor)}.${n}`;if("function"==typeof e)if(l&&Reflect.getMetadata("design:type",t,n)!==Set)s(`${o}: property is not a Set.`);else{var i=new u;i.ctor=Set,i.elementType=[e],i.emitDefaultValue=r.emitDefaultValue||!1,i.isRequired=r.isRequired||!1,i.key=n.toString(),i.name=n.toString(),h(t,n,i)}else s(`${o}: could not resolve constructor of set elements at runtime.`)}}function b(e,r,t={}){return(n,o)=>{let i=`@jsonMapMember on ${p(n.constructor)}.${o}`;if("function"!=typeof e)return void s(`${i}: could not resolve constructor of map keys at runtime.`);if("function"!=typeof r)return void s(`${i}: could not resolve constructor of map values at runtime.`);if(l&&Reflect.getMetadata("design:type",n,o)!==Map)return void s(`${i}: property is not a Map.`);let a=new u;a.ctor=Map,a.elementType=[r],a.keyType=e,a.emitDefaultValue=t.emitDefaultValue||!1,a.isRequired=t.isRequired||!1,a.key=o.toString(),a.name=o.toString(),h(n,o,a)}}t.d(r,"TypedJSON",function(){return C}),t.d(r,"jsonObject",function(){return T}),t.d(r,"jsonMember",function(){return w}),t.d(r,"jsonArrayMember",function(){return A}),t.d(r,"jsonSetMember",function(){return v}),t.d(r,"jsonMapMember",function(){return b});class C{constructor(e,r){this.serializer=new m,this.deserializer=new d,this.globalKnownTypes=[],this.indent=0;let t=f.getFromConstructor(e);if(!t||!t.isExplicitlyMarked)throw new TypeError("The TypedJSON root data type must have the @jsonObject decorator used.");this.nameResolver=(e=>p(e)),this.rootConstructor=e,this.errorHandler=(e=>s(e)),r?this.config(r):C._globalConfig&&this.config({})}static parse(e,r,t){return new C(r,t).parse(e)}static parseAsArray(e,r,t){return new C(r,t).parseAsArray(e)}static parseAsSet(e,r,t){return new C(r,t).parseAsSet(e)}static parseAsMap(e,r,t,n){return new C(t,n).parseAsMap(e,r)}static stringify(e,r,t){return new C(r,t).stringify(e)}static stringifyAsArray(e,r,t=1,n){return new C(r,n).stringifyAsArray(e,t)}static stringifyAsSet(e,r,t){return new C(r,t).stringifyAsSet(e)}static stringifyAsMap(e,r,t,n){return new C(t,n).stringifyAsMap(e,r)}static setGlobalConfig(e){this._globalConfig?Object.assign(this._globalConfig,e):this._globalConfig=e}config(e){C._globalConfig&&(e=Object.assign({},C._globalConfig,e)).knownTypes&&C._globalConfig.knownTypes&&(e.knownTypes=Array.from(new Set(e.knownTypes.concat(C._globalConfig.knownTypes)))),e.errorHandler&&(this.errorHandler=e.errorHandler,this.deserializer.setErrorHandler(e.errorHandler),this.serializer.setErrorHandler(e.errorHandler)),e.replacer&&(this.replacer=e.replacer),e.typeResolver&&this.deserializer.setTypeResolver(e.typeResolver),e.typeHintEmitter&&this.serializer.setTypeHintEmitter(e.typeHintEmitter),e.indent&&(this.indent=e.indent),e.nameResolver&&(this.nameResolver=e.nameResolver,this.deserializer.setNameResolver(e.nameResolver)),e.knownTypes&&(e.knownTypes.forEach((e,r)=>{void 0!==e&&null!==e||i(`TypedJSON.config: 'knownTypes' contains an undefined/null value (element ${r}).`)}),this.globalKnownTypes=e.knownTypes)}parse(e){let r,t=f.getFromConstructor(this.rootConstructor),n=new Map;this.globalKnownTypes.filter(e=>e).forEach(e=>{n.set(this.nameResolver(e),e)}),t&&t.knownTypes.forEach(e=>{n.set(this.nameResolver(e),e)});try{r=this.deserializer.convertSingleValue(JSON.parse(e),{selfConstructor:this.rootConstructor,knownTypes:n})}catch(e){this.errorHandler(e)}return r}parseAsArray(e,r=1){let t=JSON.parse(e);return t instanceof Array?this.deserializer.convertAsArray(t,{selfConstructor:Array,elementConstructor:new Array(r-1||0).fill(Array).concat(this.rootConstructor),knownTypes:this._mapKnownTypes(this.globalKnownTypes)}):(this.errorHandler(new TypeError(`Expected 'json' to define an Array, but got ${typeof t}.`)),[])}parseAsSet(e){let r=JSON.parse(e);return r instanceof Array?this.deserializer.convertAsSet(r,{selfConstructor:Array,elementConstructor:[this.rootConstructor],knownTypes:this._mapKnownTypes(this.globalKnownTypes)}):(this.errorHandler(new TypeError(`Expected 'json' to define a Set (using an Array), but got ${typeof r}.`)),new Set)}parseAsMap(e,r){let t=JSON.parse(e);return t instanceof Array?this.deserializer.convertAsMap(t,{selfConstructor:Array,elementConstructor:[this.rootConstructor],knownTypes:this._mapKnownTypes(this.globalKnownTypes),keyConstructor:r}):(this.errorHandler(new TypeError(`Expected 'json' to define a Set (using an Array), but got ${typeof t}.`)),new Map)}stringify(e){let r;if(e instanceof this.rootConstructor){try{return r=this.serializer.convertSingleValue(e,{selfType:this.rootConstructor}),JSON.stringify(r,this.replacer,this.indent)}catch(e){this.errorHandler(e)}return""}this.errorHandler(TypeError(`Expected object type to be '${p(this.rootConstructor)}', got '${p(e.constructor)}'.`))}stringifyAsArray(e,r=1){let t=new Array(r-1||0).fill(Array).concat(this.rootConstructor);return JSON.stringify(this.serializer.convertAsArray(e,t),this.replacer,this.indent)}stringifyAsSet(e){return JSON.stringify(this.serializer.convertAsSet(e,this.rootConstructor),this.replacer,this.indent)}stringifyAsMap(e,r){return JSON.stringify(this.serializer.convertAsMap(e,r,this.rootConstructor),this.replacer,this.indent)}_mapKnownTypes(e){let r=new Map;return e.filter(e=>e).forEach(e=>r.set(this.nameResolver(e),e)),r}}}])});
//# sourceMappingURL=typedjson.min.js.map 